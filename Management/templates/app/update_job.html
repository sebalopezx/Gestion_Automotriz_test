{% extends 'base_recepcionist.html' %}
{% load filters %}

{% block header %}
    <h1>Checklist Vehículo: {{ job.appointment.vehicle }}</h1>
    <h3>Cita ID: {{ job.id }}</h3>
{% endblock header %}

{% block content %}

    <form method="POST" id="updateJobForm"> 
        
        {% csrf_token %}
        {% comment %} {{ form_update.as_p }} {% endcomment %}
        {{ form_job.as_p }}
        {{ form_service.as_p }}
        {% comment %} {{ form_status.as_p }} {% endcomment %}
        <button type="submit">
            Guardar
        </button>
    </form>
    <br>
    <button>
        <a href="{% url 'list_jobs_inprogress' %}">
            Volver a Listado de Trabajos
        </a>
    </button>

    {% comment %} <script>
        // Espera a que se cargue completamente la página
        document.addEventListener('DOMContentLoaded', function() {
            // Encuentra el formulario por su ID
            const updateJobForm = document.getElementById('updateJobForm');
    
            // Agrega un manejador de eventos para el evento 'submit' del formulario
            updateJobForm.addEventListener('submit', function(event) {
                // Encuentra el campo de selección de servicios por su nombre
                const serviceField = document.getElementsByName('service');
    
                // Restablece el campo de selección de servicios deseleccionando todos los elementos
                serviceField.forEach(function(checkbox) {
                    checkbox.checked = false;
                });
            });
        });
    </script> {% endcomment %}
    <ul class="messages">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    
{% endblock content %}